<div class="main-body">
  <h3>Search Results</h3>
  <hr class="sr-top">

  <!--Faceted Search sidebar-->
  <div class="left_sidebar_accordion__container" ng-controller="FaqsCtrl">
    <h4>Filter Your Results</h4>
    <div class="left_sidebar_accordion__tab">
      <a ng-click="clearFacetsAndUpdate()">Clear all </a>
    </div>
    <hr class="left_sidebar_hr">
    <div class="left_sidebar_accordion__tab">
      <div class="left_sidebar_accordion__tab-title" ng-click="openTab('tab one')">
        <i class="glyphicon-plus glyphicon" ng-class="{'glyphicon-minus': isOpenTab('tab one'), 'glyphicon-plus': !status.open}"></i>
        Type
      </div>
      <div class="left_sidebar_accordion__tab-content" ng-show="isOpenTab('tab one')">
        <div ng-repeat="facet in facets.type | limitTo: 10" class="checkbox">
          <a ng-click="updateFacet(facet, true)"><span class="glyphicon glyphicon-plus-sign" style="color:grey"></span>  {{facet.option}} ({{facet.count}})</a>
        </div>
      </div>
    </div>
    <hr class="left_sidebar_hr">
    <div class="left_sidebar_accordion__tab">
      <div class="left_sidebar_accordion__tab-title" ng-click="openTab('tab two')">
        <i class="glyphicon-plus glyphicon" ng-class="{'glyphicon-minus': isOpenTab('tab two'), 'glyphicon-plus': !status.open}"></i>
        Subject
      </div>
      <div class="left_sidebar_accordion__tab-content" ng-show="isOpenTab('tab two')">
        <div ng-repeat="facet in facets.subject | limitTo: 10" class="checkbox">
          <label><input type="checkbox" ng-model="facet.active" ng-change="updateFacet(facet, true)">{{facet.option}} ({{facet.count}})</label>
        </div>
      </div>
    </div>
    <hr class="left_sidebar_hr">
    <div class="left_sidebar_accordion__tab">
      <div class="left_sidebar_accordion__tab-title" ng-click="openTab('tab three')">
        <i class="glyphicon-plus glyphicon" ng-class="{'glyphicon-minus': isOpenTab('tab three'), 'glyphicon-plus': !status.open}"></i>
        Creator
      </div>
      <div class="left_sidebar_accordion__tab-content" ng-show="isOpenTab('tab three')">
        <div ng-repeat="facet in facets.creator | limitTo: 10" class="checkbox">
          <label><input type="checkbox" ng-model="facet.active" ng-change="updateFacet(facet, true)">{{facet.option}} ({{facet.count}})</label>
        </div>
      </div>
    </div>
    <hr class="left_sidebar_hr">
    <div class="left_sidebar_accordion__tab">
      <div class="left_sidebar_accordion__tab-title" ng-click="openTab('tab four')">
        <i class="glyphicon-plus glyphicon" ng-class="{'glyphicon-minus': isOpenTab('tab four'), 'glyphicon-plus': !status.open}"></i>
        Language
      </div>
      <div class="left_sidebar_accordion__tab-content" ng-show="isOpenTab('tab four')">
        <div ng-repeat="facet in facets.language | limitTo: 10" class="checkbox">
          <label><input type="checkbox" ng-model="facet.active" ng-change="updateFacet(facet, true)">{{facet.option}} ({{facet.count}})</label>
        </div>
      </div>
    </div>
    <hr class="left_sidebar_hr">
    <div class="left_sidebar_accordion__tab">
      <div class="left_sidebar_accordion__tab-title" ng-click="openTab('tab five')">
        <i class="glyphicon-plus glyphicon" ng-class="{'glyphicon-minus': isOpenTab('tab five'), 'glyphicon-plus': !status.open}"></i>
        Contributed by
      </div>
      <div class="left_sidebar_accordion__tab-content" ng-show="isOpenTab('tab five')">
        <div ng-repeat="facet in facets.grp_contributing_institution | limitTo: 10" class="checkbox">
          <label><input type="checkbox" ng-model="facet.active" ng-change="updateFacet(facet, true)">{{facet.option}} ({{facet.count}})</label>
        </div>
      </div>
    </div>
    <hr class="left_sidebar_hr">
    <h5>Date range</h5>
    <div class="date-range"><p>From:</p><input type="date"></div>
      <div class="date-range"><p>To:</p><input type="date">
        <button ng-click="search()" class="btn" type="button" id="go-btn-results">></button>
      </div>
  </div>

  <!--Search Box & Options-->
  <div class="results-list">
    <div class="search-bar-results">
      <form ng-submit="newQuerySearch(queryTerm)"><input ng-model="queryTerm" class="search-input" type="text">
        <button ng-click="newQuerySearch(queryTerm)" class="btn" type="button" id="go-btn-results"><span class="glyphicon glyphicon-search"></span></button>
      </form>
    </div>
    <!--View active facets-->
    <div class="facet">
      <ul>
        <li ng-repeat="activeFacet in activeFacets">
          <a ng-click="updateFacet(activeFacet, false)"><span class="glyphicon glyphicon-remove-circle" style="color:red"></span>  {{activeFacet.option}}</a>
        </li>
      </ul>
    </div>
    <div class="dropdown">
      <button class="btn btn-primary search-dropdown dropdown-toggle" type="button">Sort by:
        <span class="caret"></span></button>
      <ul class="dropdown-menu">
        <li><a ui-sref="#">Type</a></li>
        <li><a ui-sref="#">Subject</a></li>
        <li><a ui-sref="#">Creator</a></li>
      </ul>
      <!--pageSize-related logic to never display more than total number of results. handles edge cases.-->
      <span class="showing">Showing {{(pagination.from + 1)}} - {{((pagination.from + pagination.size) < numTotalHits) ? (pagination.from + pagination.size) : numTotalHits}} of {{numTotalHits}} items</span>
      <div class="btn-group" uib-dropdown>
        <button class="btn btn-primary search-dropdown" type="button" uib-dropdown-toggle>Show: {{pagination.size}}<span class="caret"></span>
        </button>
        <ul class="uib-dropdown-menu"  role="menu">
          <li ng-repeat="pageSizeOption in validPageSizeOptions">
            <a ng-click="setPageSize(pageSizeOption)">{{pageSizeOption}}</a>
          </li>
        </ul>
      </div>
    </div>

    <hr class="results-list-hr">
    <!--Search Results Data-->
    <li dir-paginate="book in hits | itemsPerPage: pagination.size" current-page="pagination.page" total-items="numTotalHits"  class="book-listing">
      <a ui-sref="#"><i class="glyphicon-bookmark glyphicon"></i></a>
      <a ui-sref="books({bookID: book._id})">{{book.title[0].value}}</a><br/>
      <b>Creator: </b>{{book.creator[0].value}}<br/>
      <b>Date: </b>{{book.date[0].value}}<br/>
      <b>Contributor: </b>{{book.contributor[0].value}}<br/>
      <a ui-sref="books({bookID: book._id})">See Full Record</a><br/>
      <hr class="results-list-hr"><br>
    </li>
    </ul>
    <!--Pagination-->
    <div class="results-pagination">
      <dir-pagination-controls on-page-change="setPageNum(newPageNumber)" boundary-links="true" max-size="5"></dir-pagination-controls>
    </div>
  </div>
</div>
